---
title: "Basic Pentesting"
excerpt: "[Academy][TryHackMe] Writeup de Basic Pentesting."
header:
  teaser: ""
tags:
  - tryhackme
  - writeup
categories:
  - tryhackme
---

# Preguntas

**What does the acronym VM stand for?**

virtual machine

**What is the name of the hidden directory on the web server(enter name without /)?**

Development

**What is the username?**

Jan

**What is the password?**

armando

**What service do you use to access the server(answer in abbreviation in all caps)?**

SSH

**What is the name of the other user you found(all lower case)?**

Kay

**What is the final password you obtain?**

heresareallystrongpasswordthatfollowsthepasswordpolicy$$


# Proceso

Listar todos los directorios ocultos de la web

```bash
sudo gobuster dir -u 10.10.35.80 -w /usr/share/wordlists/dirb/big.txt -x html,php,txt
```

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/1.png){: .align-center}

Listar los usuarios del sistema

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/2.png){: .align-center}

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/3.png){: .align-center}

Listar los recursos compartidos por SMB

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/4.png){: .align-center}

Entrar al recurso compartido de Anonymous y mostrar el contenido

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/5.png){: .align-center}

Usar `hydra` para encontrar la contraseña de jay

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/6.png){: .align-center}

Entrar por ssh con el usuario jay y la contraseña descubierta

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/7.png){: .align-center}

Ir al directorio home, luego al directorio personal de kay y al directorio `.ssh`, dentro se encontrará la clave privada del usuario

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/8.png){: .align-center}

Leer el archivo de la clave privada `id_rsa` y copiar el contenido

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/9.png){: .align-center}

Guardar el contenido en un archivo del equipo atacante

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/10.png){: .align-center}

Convertirlo a hash con la herramienta `ssh2john.py` y guardarlo en otro archivo nuevo

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/11.png){: .align-center}

Crackear la contraseña con `john`, servirán tanto rockyou como dark0de

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/12.png){: .align-center}

Entrar por ssh usando la clave privada e introduciendo la contraseña crackeada

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/13.png){: .align-center}

Ir al directorio personal de Kay y leer el archivo `pass.bak`

![image-center]({{ site.url }}{{ site.baseurl }}/assets/images/thm/basicpentesting/14.png){: .align-center}
